# ุฏููู ููู Object Storage ูู Autoscale ุฅูู Reserved VM

## ๐ ูุธุฑุฉ ุนุงูุฉ

ูุฐุง ุงูุฏููู ูุดุฑุญ ููููุฉ ููู ุฌููุน ุงูุตูุฑ ูุงููููุงุช ูู Object Storage ูู Autoscale ุฅูู Reserved VM.

---

## ๐ ุงูุฎุทูุงุช ุงูุณุฑูุนุฉ

### 1๏ธโฃ ุฅูุดุงุก Bucket ุฌุฏูุฏ ููุฅูุชุงุฌ

ูู ูุดุฑูุน Reserved VM:

1. ุงูุชุญ ุชุจููุจ **Object Storage** (ูู Tools ูู ุงููุงุฆูุฉ ุงููุณุฑู)
2. ุงุถุบุท **Create new bucket**
3. ุฃุนุทู ุงุณู ูุซู: `sabq-production`
4. ุงุถุบุท **Create bucket**

### 2๏ธโฃ ุฅูุดุงุก ุงููุฌูุฏุงุช ุงูุถุฑูุฑูุฉ

ุฏุงุฎู ุงูู bucket ุงูุฌุฏูุฏ:

1. ุฃูุดุฆ ูุฌูุฏ `public`
2. ุฃูุดุฆ ูุฌูุฏ `.private`

### 3๏ธโฃ ุชุดุบูู Script ุงูููู

ูู Terminal/Shellุ ุดุบูู:

```bash
tsx scripts/migrate-object-storage.ts
```

### 4๏ธโฃ ุงุชูุจุน ุงูุชุนูููุงุช ุงูุชูุงุนููุฉ

ุงูู script ุณูุทูุจ ููู:

- โ ุชุฃููุฏ ุงุณู bucket ุงููุตุฏุฑ (ุงููุฏูู)
- โ ุฅุฏุฎุงู ุงุณู bucket ุงููุฏู (ุงูุฌุฏูุฏ)
- โ ุงูุชุฃููุฏ ุงูููุงุฆู ูุจู ุจุฏุก ุงูููู

ูุซุงู:

```
๐ฆ Bucket ุงููุตุฏุฑ (ุงููุฏูู): replit-objstore-b1f39c51-f362-497c-846b-74ce14cc0e52
๐ ูู ูุถูู ุฃุฏุฎู ุงุณู bucket ุงููุฏู (ุงูุฌุฏูุฏ)
ุงุณู bucket ุงููุฏู: sabq-production

โ๏ธ  ุชุญุฐูุฑ: ูุฐู ุงูุนูููุฉ ุณุชูุณุฎ ุฌููุน ุงููููุงุช ูู:
   ุงููุตุฏุฑ: replit-objstore-b1f39c51-f362-497c-846b-74ce14cc0e52
   ุงููุฏู: sabq-production
   ุงููุฌูุฏุงุช: public, .private

ูู ุฃูุช ูุชุฃูุฏุ (yes/no): yes
```

### 5๏ธโฃ ุงูุชุธุฑ ุงูุชูุงู ุงูููู

ุงูู script ุณูุนุฑุถ:
- ๐ ุนุฏุฏ ุงููููุงุช ุงูููุชุดูุฉ
- โฑ๏ธ ุงูุชูุฏู ุงููุจุงุดุฑ (%)
- โ ุนุฏุฏ ุงููููุงุช ุงููููููุฉ ุจูุฌุงุญ

### 6๏ธโฃ ุชุญุฏูุซ Environment Variables ูู ุงูุฅูุชุงุฌ

ุจุนุฏ ุงูุชูุงู ุงููููุ ุญุฏูุซ ุงููุชุบูุฑุงุช ูู **Secrets** (ููุฅูุชุงุฌ):

```
PUBLIC_OBJECT_SEARCH_PATHS=/sabq-production/public
PRIVATE_OBJECT_DIR=/sabq-production/.private
```

(ุงุณุชุจุฏู `sabq-production` ุจุงุณู bucket ุงููุนูู ุฅุฐุง ูุงู ูุฎุชููุงู)

### 7๏ธโฃ ุฅุนุงุฏุฉ ุงููุดุฑ

ุงุถุบุท ุฒุฑ **Deploy** ุฃู **Publish** ูุฑุฉ ุฃุฎุฑู ูู ุงูุฅูุชุงุฌ.

---

## โจ ููุฒุงุช ุงูู Script

- โ **ุขูู**: ูุง ูุญุฐู ุฃู ูููุงุช ูู ุงููุตุฏุฑ
- โ **ุชูุงุนูู**: ูุทูุจ ุงูุชุฃููุฏ ูุจู ุงูุจุฏุก
- โ **ุดุงูู**: ูููู ุฌููุน ุงููููุงุช ูู public ู .private
- โ **ูุนูููุงุชู**: ูุนุฑุถ ุงูุชูุฏู ูุงูุฅุญุตุงุฆูุงุช
- โ **ููุณุฎ Metadata**: ูุญุงูุธ ุนูู ุฌููุน ุจูุงูุงุช ุงููููุงุช

---

## ๐ ุงูุชุญูู ูู ุงููุฌุงุญ

ุจุนุฏ ุฅุนุงุฏุฉ ุงููุดุฑ:

1. ุงูุชุญ ูููุนู ูู ุงูุฅูุชุงุฌ
2. ุชุญูู ูู ุธููุฑ ุงูุตูุฑ ุจุดูู ุตุญูุญ
3. ุฌุฑูุจ ุฑูุน ุตูุฑุฉ ุฌุฏูุฏุฉ
4. ุชุฃูุฏ ูู ุนูู ุฌููุน ุงูููุฒุงุช ุงููุฑุชุจุทุฉ ุจุงูุตูุฑ

---

## โ๏ธ ููุงุญุธุงุช ูููุฉ

1. **ูุง ุชุญุฐู bucket ุงููุฏูู** ูุจุงุดุฑุฉ ุจุนุฏ ุงูููู - ุงุญุชูุธ ุจู ูุจุถุนุฉ ุฃูุงู ููุชุฃูุฏ
2. **ุชุฃูุฏ ูู ุณูุงูุฉ ุงูู bucket ุงูุฌุฏูุฏ** ูุจู ุญุฐู ุงููุฏูู
3. **ุงูู script ุขูู** - ููููู ุชุดุบููู ุนุฏุฉ ูุฑุงุช ุจุฏูู ูุดุงูู (ุณููุณุฎ ุงููููุงุช ูู ุฌุฏูุฏ)

---

## ๐ ุงุณุชูุดุงู ุงูุฃุฎุทุงุก

### ุงูุฎุทุฃ: bucket ุงููุตุฏุฑ ุบูุฑ ููุฌูุฏ

ุชุฃูุฏ ูู ุฃู ุงููุชุบูุฑุงุช ุงูุจูุฆูุฉ `PUBLIC_OBJECT_SEARCH_PATHS` ู `PRIVATE_OBJECT_DIR` ูุถุจูุทุฉ ุจุดูู ุตุญูุญ.

### ุงูุฎุทุฃ: bucket ุงููุฏู ุบูุฑ ููุฌูุฏ

ุชุฃูุฏ ูู ุฃูู ุฃูุดุฃุช bucket ุฌุฏูุฏ ูู Object Storage ุฃููุงู.

### ุงูุฎุทุฃ: ูุดู ูุณุฎ ุจุนุถ ุงููููุงุช

ูุฏ ูููู ุจุณุจุจ ุฃุฐููุงุช ุฃู ุญุฌู ุงูููู. ุงูู script ุณูุณุชูุฑ ูู ูุณุฎ ุงููููุงุช ุงูุฃุฎุฑู ููุนุฑุถ ุงูุฃุฎุทุงุก ูู ุงูููุงูุฉ.

---

## ๐ ุงูุฏุนู

ุฅุฐุง ูุงุฌูุช ุฃู ูุดููุฉุ ุฑุงุฌุน ุงูุฃุฎุทุงุก ุงููุนุฑูุถุฉ ูู Terminal ูุชุฃูุฏ ูู:
- ูุฌูุฏ ุงูู buckets (ุงููุตุฏุฑ ูุงููุฏู)
- ุตุญุฉ ุงููุชุบูุฑุงุช ุงูุจูุฆูุฉ
- ุงุชุตุงูู ุจุงูุฅูุชุฑูุช

---

โจ **ุจุงูุชูููู ูู ุนูููุฉ ุงูููู!**
