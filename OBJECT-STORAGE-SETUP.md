# โ๏ธ ุฅุนุฏุงุฏ Object Storage ููุจุฏุก ูู ุฌุฏูุฏ

## ๐ ุงูููุฎุต
ูุฐุง ุงูุฏููู ูุดุฑุญ ููููุฉ ุฅุนุฏุงุฏ Object Storage ููุนูู ูุน bucket ุฌุฏูุฏ (`sabq-production-bucket`) ุจุฏูู ููู ุงูุตูุฑ ุงููุฏููุฉ.

---

## ๐ง ุงูุฎุทูุฉ 1: ุชุญุฏูุซ ุงููุชุบูุฑุงุช ุงูุจูุฆูุฉ

### ูู ุจูุฆุฉ ุงูุชุทููุฑ (Development):

1. ุงูุชุญ ุชุจููุจ **Secrets** (๐)
2. ุญุฏูุซ ุงูููู ุงูุชุงููุฉ:

```bash
PUBLIC_OBJECT_SEARCH_PATHS=/sabq-production-bucket/public
PRIVATE_OBJECT_DIR=/sabq-production-bucket/.private
```

3. ุงุญูุธ ุงูุชุบููุฑุงุช

---

### ูู ุจูุฆุฉ ุงูุฅูุชุงุฌ (Production - Reserved VM):

1. ุงุฐูุจ ุฅูู ุตูุญุฉ Deployment/Publishing
2. ุงูุชุญ **Secrets** ูู ุฅุนุฏุงุฏุงุช ุงูุฅูุชุงุฌ
3. ุญุฏูุซ ููุณ ุงูููู:

```bash
PUBLIC_OBJECT_SEARCH_PATHS=/sabq-production-bucket/public
PRIVATE_OBJECT_DIR=/sabq-production-bucket/.private
```

4. ุงุญูุธ ูุฃุนุฏ ุงููุดุฑ (Redeploy)

---

## ๐ ุงูุฎุทูุฉ 2: ุงูุชุฃูุฏ ูู ุงููุฌูุฏุงุช

ูู ุชุจููุจ **Object Storage**:

1. ุงุฎุชุฑ bucket: `sabq-production-bucket`
2. ุชุฃูุฏ ูู ูุฌูุฏ ุงููุฌูุฏูู:
   - โ `public` (ููุตูุฑ ุงูุนุงูุฉ)
   - โ `.private` (ููุตูุฑ ุงูุฎุงุตุฉ/ุฑูุน ุงููุณุชุฎุฏููู)

3. ุฅุฐุง ูู ููููุง ููุฌูุฏูู:
   - ุงุถุบุท **Create folder**
   - ุฃูุดุฆ `public`
   - ุฃูุดุฆ `.private`

---

## ๐ ุงูุฎุทูุฉ 3: ุฅุนุงุฏุฉ ุชุดุบูู ุงูุชุทุจูู

### ูู ุงูุชุทููุฑ:
```bash
# ุงูุชุทุจูู ุณููุนุงุฏ ุชุดุบููู ุชููุงุฆูุงู ุจุนุฏ ุชุบููุฑ Secrets
# ุฃู ููููู ุฅุนุงุฏุฉ ุงูุชุดุบูู ูุฏููุงู ูู ุฒุฑ Restart
```

### ูู ุงูุฅูุชุงุฌ:
- ุงุถุบุท **Redeploy** ุฃู **Publish** ูุฑุฉ ุฃุฎุฑู

---

## โ ุงูุฎุทูุฉ 4: ุงุฎุชุจุงุฑ ุฑูุน ุงูุตูุฑ

### ุงุฎุชุจุงุฑ ูู ููุญุฉ ุงูุชุญูู:

1. ุณุฌูู ุฏุฎูู ููุฏูุฑ
2. ุงุฐูุจ ุฅูู **ุฅูุดุงุก ููุงู ุฌุฏูุฏ**
3. ุญุงูู ุฑูุน ุตูุฑุฉ ุฑุฆูุณูุฉ
4. ุชุฃูุฏ ูู ูุฌุงุญ ุงูุฑูุน

### ูุง ูุฌุจ ุฃู ูุญุฏุซ:

- โ ุงูุตูุฑุฉ ุชุฑูุน ุจูุฌุงุญ
- โ ุชุธูุฑ preview ููุตูุฑุฉ
- โ ูุชู ุญูุธ ุงูููุงู
- โ ุงูุตูุฑุฉ ุชุธูุฑ ูู ุงูููุงู ุงูููุดูุฑ

---

## ๐ ุงุณุชูุดุงู ุงูุฃุฎุทุงุก

### ูุดููุฉ: ูุง ุฃุณุชุทูุน ุฑูุน ุงูุตูุฑ

**ุงูุญู:**
1. ุชุฃูุฏ ูู ุชุญุฏูุซ ุงููุชุบูุฑุงุช ุงูุจูุฆูุฉ ุจุงูุถุจุท ููุง ูู ููุถุญ
2. ุชุฃูุฏ ูู ูุฌูุฏ ุงููุฌูุฏุงุช `public` ู `.private` ูู ุงูู bucket
3. ุฃุนุฏ ุชุดุบูู ุงูุชุทุจูู
4. ุชุญูู ูู Console logs ููุฃุฎุทุงุก

### ูุดููุฉ: ุงูุตูุฑ ูุง ุชุธูุฑ ุจุนุฏ ุงูุฑูุน

**ุงูุญู:**
1. ุงูุชุญ Developer Tools (F12)
2. ุชุญูู ูู Network tab
3. ุงุจุญุซ ุนู ุฃุฎุทุงุก 404 ุฃู 403
4. ุชุฃูุฏ ุฃู URL ุงูุตูุฑ ูุจุฏุฃ ุจู:
   - `/public-objects/` ููุตูุฑ ุงูุนุงูุฉ
   - `/objects/` ููุตูุฑ ุงูุฎุงุตุฉ

### ูุดููุฉ: ุฎุทุฃ "Permission denied"

**ุงูุญู:**
1. ุชุฃูุฏ ุฃู bucket `sabq-production-bucket` ููุฌูุฏ
2. ุชุฃูุฏ ุฃู ุงููุฌูุฏุงุช ููุฌูุฏุฉ ุฏุงุฎู ุงูู bucket
3. ูู ุจูุฆุฉ ุงูุชุทููุฑ: ุชุฃูุฏ ุฃู ุงูู bucket ูุถุงู ููู Repl
   - Object Storage -> Add existing bucket

---

## ๐ ุงููููู ุงููุชููุน

```
sabq-production-bucket/
โโโ public/
โ   โโโ articles/           # ุตูุฑ ุงูููุงูุงุช
โ   โโโ categories/         # ุตูุฑ ุงูุชุตูููุงุช
โ   โโโ users/             # ุตูุฑ ุงููุณุชุฎุฏููู
โ   โโโ general/           # ุตูุฑ ุนุงูุฉ
โโโ .private/
    โโโ uploads/           # ุฑูุน ุงููุณุชุฎุฏููู ุงูุฎุงุต
```

---

## ๐ ุงูุฎุทูุงุช ุงูุชุงููุฉ

ุจุนุฏ ุฅููุงู ุงูุฅุนุฏุงุฏ:

1. โ ุงุฎุชุจุฑ ุฑูุน ุตูุฑุฉ ูู ุงูุชุทููุฑ
2. โ ุชุฃูุฏ ูู ุธููุฑูุง ุจุดูู ุตุญูุญ
3. โ ุญุฏูุซ Secrets ูู ุงูุฅูุชุงุฌ
4. โ ุฃุนุฏ ูุดุฑ ุงูุชุทุจูู
5. โ ุงุฎุชุจุฑ ูู ุงูุฅูุชุงุฌ

---

## ๐ก ููุงุญุธุงุช ูููุฉ

- **ุงูุตูุฑ ุงููุฏููุฉ:** ูู ุชุธูุฑ ุจุนุฏ ุงูุชุบููุฑ (ููุง ุทูุจุช)
- **ุงูุจุฏุก ูู ุฌุฏูุฏ:** ุฌููุน ุงูุตูุฑ ุงูุฌุฏูุฏุฉ ุณุชูุฎุฒู ูู bucket ุงูุฌุฏูุฏ
- **ุงูุฅูุชุงุฌ ูุงูุชุทููุฑ:** ูุฌุจ ุชุญุฏูุซ Secrets ูู ูููููุง
- **ุงูุฃูุงู:** ุงููุฌูุฏ `.private` ูููููุงุช ุงูุฎุงุตุฉ ููุท

---

โจ **ุจุนุฏ ุงูุชูุงู ูุฐู ุงูุฎุทูุงุชุ ุณุชููู ูุงุฏุฑุงู ุนูู ุฑูุน ุตูุฑ ุฌุฏูุฏุฉ ูู ูู ูู ุงูุชุทููุฑ ูุงูุฅูุชุงุฌ!**
