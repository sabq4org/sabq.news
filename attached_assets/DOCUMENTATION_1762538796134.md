# ๐ ูุซููุฉ ูุธุงู ุงูุฅุนูุงูุงุช ุงูุฐูู - ุณุจู

## ๐ฏ ูุธุฑุฉ ุนุงูุฉ

ูุธุงู ุฅุนูุงูุงุช ูุชูุงูู ููุชุทูุฑ ูุญุงูู **Google DoubleClick / Ad Manager**ุ ูุจูู ุจุชูููุงุช ุญุฏูุซุฉ ููุชุถูู ุฐูุงุก ุงุตุทูุงุนู ูุชูุฏู ูุชุญุณูู ุงูุฃุฏุงุก ูุฅุฏุงุฑุฉ ุงูุญููุงุช ุงูุฅุนูุงููุฉ ุจููุงุกุฉ ุนุงููุฉ.

---

## ๐๏ธ ุงูุจููุฉ ุงูุชูููุฉ (Tech Stack)

### ุงููุงุฌูุฉ ุงูุฃูุงููุฉ (Frontend)
- **Next.js** - ุฅุทุงุฑ ุนูู React ููุชุทุจููุงุช ุงูุญุฏูุซุฉ
- **Tailwind CSS 4** - ุชุตููู ุนุตุฑู ููุชุฌุงูุจ
- **Radix UI** - ููููุงุช ูุงุฌูุฉ ูุณุชุฎุฏู ุงุญุชุฑุงููุฉ
- **Recharts** - ูุฎุทุทุงุช ุจูุงููุฉ ุชูุงุนููุฉ
- **tRPC** - ุงุชุตุงู ุขูู ููุจุงุดุฑ ุจูู Frontend ู Backend
- **Wouter** - ูุธุงู ุชูุฌูู ุฎููู
- **Sonner** - ุฅุดุนุงุฑุงุช Toast ุฌูููุฉ

### ุงููุงุฌูุฉ ุงูุฎูููุฉ (Backend)
- **Node.js + Express** - ุฎุงุฏู API ููู
- **tRPC 11** - Type-safe API ุจุฏูู REST
- **Drizzle ORM** - ORM ุญุฏูุซ ูุณุฑูุน
- **MySQL/TiDB** - ูุงุนุฏุฉ ุจูุงูุงุช ุนูุงุฆููุฉ
- **JWT** - ูุตุงุฏูุฉ ุขููุฉ
- **Cron Jobs** - ููุงู ูุฌุฏููุฉ ุชููุงุฆูุฉ

### ุงูุฐูุงุก ุงูุงุตุทูุงุนู ูุงูุชุญูููุงุช
- **LLM Integration** - ุชูุงูู ูุน ููุงุฐุฌ ุงููุบุฉ ุงููุจูุฑุฉ
- **Predictive Analytics** - ุชุญูููุงุช ุชูุจุคูุฉ
- **Budget Optimization** - ุชุญุณูู ุชููุงุฆู ููููุฒุงููุฉ
- **Performance Monitoring** - ูุฑุงูุจุฉ ุงูุฃุฏุงุก ุงูุญูุฉ

### ุงูุชุฎุฒูู ูุงููุณุงุฆุท
- **S3 Storage** - ุชุฎุฒูู ุงูุตูุฑ ูุงูููุฏูููุงุช ุงูุฅุนูุงููุฉ
- **Cloudinary** - ูุนุงูุฌุฉ ุงููุณุงุฆุท

---

## ๐ ูุงุนุฏุฉ ุงูุจูุงูุงุช (Database Schema)

### ุงูุฌุฏุงูู ุงูุฃุณุงุณูุฉ

#### 1. ุฌุฏูู ุงููุณุชุฎุฏููู (users)
```typescript
{
  id: int (PK, Auto-increment)
  openId: varchar(64) UNIQUE
  name: text
  email: varchar(320)
  loginMethod: varchar(64)
  role: enum("user", "advertiser", "admin", "superadmin")
  createdAt: timestamp
  updatedAt: timestamp
  lastSignedIn: timestamp
}
```

**ุงูุฃุฏูุงุฑ:**
- `user` - ูุณุชุฎุฏู ุนุงุฏู
- `advertiser` - ูุนูู (ููููู ุฅูุดุงุก ุญููุงุช)
- `admin` - ูุดุฑู (ููููู ุงูููุงููุฉ ุนูู ุงูุญููุงุช)
- `superadmin` - ูุฏูุฑ ุงููุธุงู (ุตูุงุญูุงุช ูุงููุฉ)

#### 2. ุฌุฏูู ุงูุญููุงุช (campaigns)
```typescript
{
  id: int (PK)
  advertiserId: int (FK โ users.id)
  name: varchar(255)
  objective: enum("CPM", "CPC", "CPA")
  status: enum("draft", "pending_review", "active", "paused", "completed", "rejected")
  dailyBudget: int (ุจุงูุณูุชุงุช)
  totalBudget: int (ุจุงูุณูุชุงุช)
  spentBudget: int (ุจุงูุณูุชุงุช)
  startDate: timestamp
  endDate: timestamp (nullable)
  bidAmount: int (ุจุงูุณูุชุงุช)
  createdAt: timestamp
  updatedAt: timestamp
}
```

**ุฃููุงุน ุงูุฃูุฏุงู:**
- `CPM` - Cost Per Mille (ุงูุชูููุฉ ููู 1000 ุธููุฑ)
- `CPC` - Cost Per Click (ุงูุชูููุฉ ููู ููุฑุฉ)
- `CPA` - Cost Per Action (ุงูุชูููุฉ ููู ุฅุฌุฑุงุก/ุชุญููู)

**ุญุงูุงุช ุงูุญููุฉ:**
- `draft` - ูุณูุฏุฉ (ููุฏ ุงูุฅูุดุงุก)
- `pending_review` - ููุฏ ุงููุฑุงุฌุนุฉ (ุชูุชุธุฑ ููุงููุฉ ุงููุดุฑู)
- `active` - ูุดุทุฉ (ุชุนุฑุถ ุงูุฅุนูุงูุงุช)
- `paused` - ูุชูููุฉ ูุคูุชุงู
- `completed` - ููุชููุฉ (ุงูุชูุช ุงูููุฒุงููุฉ ุฃู ุงููุฏุฉ)
- `rejected` - ูุฑููุถุฉ ูู ุงููุดุฑู

#### 3. ุฌุฏูู ุงููุฌููุนุงุช ุงูุฅุนูุงููุฉ (adGroups)
```typescript
{
  id: int (PK)
  campaignId: int (FK โ campaigns.id)
  name: varchar(255)
  targetCountries: text (JSON array) // ["SA", "AE", "EG"]
  targetDevices: text (JSON array) // ["desktop", "mobile", "tablet"]
  targetCategories: text (JSON array) // ["tech", "sports", "news"]
  createdAt: timestamp
  updatedAt: timestamp
}
```

#### 4. ุฌุฏูู ุงูุฅุนูุงูุงุช (ads)
```typescript
{
  id: int (PK)
  adGroupId: int (FK โ adGroups.id)
  name: varchar(255)
  type: enum("image", "video", "html", "text")
  content: text // URL ููุตูุฑุฉ/ููุฏูู ุฃู HTML code
  destinationUrl: varchar(500)
  size: varchar(50) // "728x90", "300x250", etc.
  status: enum("active", "paused", "rejected")
  predictedCTR: int // ูุณุจุฉ ูุฆููุฉ ร 10000 ููุฏูุฉ
  createdAt: timestamp
  updatedAt: timestamp
}
```

**ุงูููุงุณุงุช ุงูุฅุนูุงููุฉ ุงููุฏุนููุฉ:**
- `728ร90` - Leaderboard (Header)
- `300ร250` - Medium Rectangle (Sidebar)
- `970ร250` - Billboard (Header)
- `160ร600` - Wide Skyscraper (Sidebar)
- `468ร60` - Banner
- `320ร50` - Mobile Banner

#### 5. ุฌุฏูู ุฃูุงูู ุงูุนุฑุถ (adPlacements)
```typescript
{
  id: int (PK)
  name: varchar(255)
  location: enum("header", "sidebar", "footer", "inline", "between_articles")
  size: varchar(50)
  isActive: boolean
  createdAt: timestamp
  updatedAt: timestamp
}
```

### ุฌุฏุงูู ุงูุชุชุจุน ูุงูุชุญูููุงุช

#### 6. ุฌุฏูู ุงููุดุงูุฏุงุช (impressions)
```typescript
{
  id: int (PK)
  adId: int (FK โ ads.id)
  campaignId: int (FK โ campaigns.id)
  placementId: int (FK โ adPlacements.id)
  userAgent: text
  ipAddress: varchar(45)
  country: varchar(2) // ISO country code
  device: varchar(20) // "desktop", "mobile", "tablet"
  timestamp: timestamp
}
```

#### 7. ุฌุฏูู ุงูููุฑุงุช (clicks)
```typescript
{
  id: int (PK)
  adId: int (FK โ ads.id)
  campaignId: int (FK โ campaigns.id)
  placementId: int (FK โ adPlacements.id)
  impressionId: int (FK โ impressions.id, nullable)
  userAgent: text
  ipAddress: varchar(45)
  country: varchar(2)
  device: varchar(20)
  timestamp: timestamp
}
```

#### 8. ุฌุฏูู ุงูุชุญูููุงุช (conversions)
```typescript
{
  id: int (PK)
  clickId: int (FK โ clicks.id)
  adId: int (FK โ ads.id)
  campaignId: int (FK โ campaigns.id)
  conversionType: varchar(50) // "purchase", "signup", "download"
  conversionValue: int (ุจุงูุณูุชุงุช, nullable)
  timestamp: timestamp
}
```

#### 9. ุฌุฏูู ุงูุฅุญุตุงุฆูุงุช ุงูููููุฉ (dailyStats)
```typescript
{
  id: int (PK)
  campaignId: int (FK โ campaigns.id)
  adId: int (FK โ ads.id, nullable)
  date: timestamp
  impressions: int
  clicks: int
  conversions: int
  spent: int (ุจุงูุณูุชุงุช)
  ctr: int // ูุณุจุฉ ูุฆููุฉ ร 10000
  createdAt: timestamp
  updatedAt: timestamp
}
```

### ุฌุฏุงูู ุงูุฅุฏุงุฑุฉ ูุงูุฐูุงุก ุงูุงุตุทูุงุนู

#### 10. ุฌุฏูู ุณุฌู ุงูููุฒุงููุฉ (budgetHistory)
```typescript
{
  id: int (PK)
  campaignId: int (FK โ campaigns.id)
  amount: int (ุจุงูุณูุชุงุช)
  type: enum("charge", "refund", "adjustment")
  reason: text (nullable)
  timestamp: timestamp
}
```

#### 11. ุฌุฏูู ุงูุชูุตูุงุช ุงูุฐููุฉ (aiRecommendations)
```typescript
{
  id: int (PK)
  campaignId: int (FK โ campaigns.id)
  type: enum("budget_increase", "budget_decrease", "pause_ad", "target_adjustment", "bid_adjustment")
  message: text
  confidence: int // ูุณุจุฉ ูุฆููุฉ ร 100 (0-10000)
  isRead: boolean
  createdAt: timestamp
}
```

---

## ๐ ูุธุงู ุงูุตูุงุญูุงุช (RBAC - Role-Based Access Control)

### Middleware ููุชุญูู ูู ุงูุตูุงุญูุงุช

#### 1. protectedProcedure
ูุชุทูุจ ุชุณุฌูู ุฏุฎูู ุงููุณุชุฎุฏู ููุท.

#### 2. advertiserProcedure
ูุชุทูุจ ุฃู ูููู ุงููุณุชุฎุฏู ูุนููุงู ุฃู ูุดุฑูุงู ุฃู ุณูุจุฑ ุฃุฏููู.
```typescript
const advertiserProcedure = protectedProcedure.use(({ ctx, next }) => {
  if (!["advertiser", "admin", "superadmin"].includes(ctx.user.role)) {
    throw new TRPCError({ code: "FORBIDDEN" });
  }
  return next({ ctx });
});
```

#### 3. adminProcedure
ูุชุทูุจ ุฃู ูููู ุงููุณุชุฎุฏู ูุดุฑูุงู ุฃู ุณูุจุฑ ุฃุฏููู.
```typescript
const adminProcedure = protectedProcedure.use(({ ctx, next }) => {
  if (!["admin", "superadmin"].includes(ctx.user.role)) {
    throw new TRPCError({ code: "FORBIDDEN" });
  }
  return next({ ctx });
});
```

---

## ๐ค ูุธุงู ุงูุฐูุงุก ุงูุงุตุทูุงุนู

### 1. ุงูุชูุจุค ุจูุณุจุฉ ุงูููุฑ (Predicted CTR)

**ุงููุธููุฉ:** `predictCTR(adId: number)`

**ุงูุฎูุงุฑุฒููุฉ:**
1. ุฌูุจ ุจูุงูุงุช ุงูุฃุฏุงุก ุงูุชุงุฑูุฎูุฉ ููุญููุฉ
2. ุญุณุงุจ CTR ุงูุชุงุฑูุฎู: `(ุงูููุฑุงุช / ุงููุดุงูุฏุงุช) ร 100`
3. ุชุทุจูู ุนูุงูู ุชุนุฏูู ุญุณุจ ููุน ุงูุฅุนูุงู:
   - ููุฏูู: `ร1.2`
   - ุตูุฑุฉ: `ร1.0`
   - ูุต: `ร0.8`
4. ุญูุธ ุงููุชูุฌุฉ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช

**ุงูุงุณุชุฎุฏุงู:** ููุณุชุฎุฏู ูู ูุธุงู ุงููุฒุงูุฏุฉ ุงูููุฑูุฉ ูุงุฎุชูุงุฑ ุงูุฅุนูุงู ุงูุฃูุถู.

### 2. ุชุญููู ุฃุฏุงุก ุงูุญููุฉ (Campaign Performance Analysis)

**ุงููุธููุฉ:** `analyzeCampaignPerformance(campaignId: number)`

**ุงูุฎุทูุงุช:**
1. ุฌูุน ุงูุจูุงูุงุช: ุงููุดุงูุฏุงุชุ ุงูููุฑุงุชุ CTRุ ุงูููุฒุงููุฉ
2. ุฅุฑุณุงู ุงูุจูุงูุงุช ุฅูู LLM ููุชุญููู
3. ุงุณุชูุจุงู ุชูุตูุงุช ุฐููุฉ ูู LLM
4. ุชุญุฏูุฏ ููุน ุงูุชูุตูุฉ ุชููุงุฆูุงู:
   - ุฅุฐุง CTR < 0.5% ุจุนุฏ 1000 ูุดุงูุฏุฉ โ `pause_ad`
   - ุฅุฐุง CTR > 2.0% ูุงูููุฒุงููุฉ ูุชุจููุฉ โ `budget_increase`
   - ุฅุฐุง ุงูุฅููุงู > 80% ูุงูุฃุฏุงุก ุถุนูู โ `budget_decrease`
5. ุญูุธ ุงูุชูุตูุฉ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช

### 3. ุงูุชูุจุค ุจููุนุฏ ุงูุชูุงุก ุงูููุฒุงููุฉ

**ุงููุธููุฉ:** `predictBudgetDepletion(campaignId: number)`

**ุงูุฎูุงุฑุฒููุฉ:**
1. ุญุณุงุจ ูุชูุณุท ุงูุฅููุงู ุงููููู
2. ุญุณุงุจ ุงูููุฒุงููุฉ ุงููุชุจููุฉ
3. ุงูุชูุจุค: `ุฃูุงู ูุชุจููุฉ = ุงูููุฒุงููุฉ ุงููุชุจููุฉ / ูุชูุณุท ุงูุฅููุงู ุงููููู`
4. ุฅุฑุณุงู ุชูุจูู ุฅุฐุง ูุงูุช ุงูููุฒุงููุฉ ุณุชูุชูู ุฎูุงู 3 ุฃูุงู

### 4. ูุดู ุงูุฅุนูุงูุงุช ุถุนููุฉ ุงูุฃุฏุงุก

**ุงููุธููุฉ:** `detectUnderperformingAds(campaignId: number)`

**ุงููุนุงููุฑ:**
- ุฅุฐุง CTR < 0.3% ุจุนุฏ 100 ูุดุงูุฏุฉ โ ุฅููุงู ุชููุงุฆู
- ุฅูุดุงุก ุชูุตูุฉ ูููุนูู ุจูุฑุงุฌุนุฉ ุงููุญุชูู

### 5. ุชุญุณูู ุชูุฒูุน ุงูููุฒุงููุฉ

**ุงููุธููุฉ:** `optimizeBudgetAllocation(advertiserId: number)`

**ุงูุฎุทูุงุช:**
1. ุชุญููู ุฃุฏุงุก ุฌููุน ุญููุงุช ุงููุนูู
2. ุชุฑุชูุจ ุงูุญููุงุช ุญุณุจ CTR
3. ุงูุชูุตูุฉ ุจุฅุนุงุฏุฉ ุชูุฒูุน ุงูููุฒุงููุฉ ูู ุงูุญููุงุช ุงูุถุนููุฉ ุฅูู ุงููููุฉ

---

## โฐ Cron Jobs (ุงูููุงู ุงููุฌุฏููุฉ)

### 1. ูุฑุงูุจุฉ ุงูููุฒุงููุฉ (Budget Monitoring)
**ุงูุชูุฑุงุฑ:** ูู 5 ุฏูุงุฆู

**ุงูููุงู:**
- ุงูุชุญูู ูู ุงูููุฒุงููุฉ ุงูุฅุฌูุงููุฉ ููู ุญููุฉ
- ุฅููุงู ุงูุญููุงุช ุนูุฏ ููุงุฏ ุงูููุฒุงููุฉ
- ุงูุชุญูู ูู ุงูููุฒุงููุฉ ุงูููููุฉ
- ุฅููุงู ูุคูุช ุนูุฏ ุชุฌุงูุฒ ุงูุญุฏ ุงููููู
- ุงูุชูุจุค ุจููุนุฏ ุงูุชูุงุก ุงูููุฒุงููุฉ

### 2. ุชุญููู ุงูุญููุงุช (Campaign Analysis)
**ุงูุชูุฑุงุฑ:** ูู ุณุงุนุฉ

**ุงูููุงู:**
- ุชุญููู ุฃุฏุงุก ุฌููุน ุงูุญููุงุช ุงููุดุทุฉ
- ูุดู ุงูุฅุนูุงูุงุช ุถุนููุฉ ุงูุฃุฏุงุก
- ุชุญุฏูุซ pCTR ูุฌููุน ุงูุฅุนูุงูุงุช
- ุฅูุดุงุก ุชูุตูุงุช ุฐููุฉ

### 3. ุชุญุณูู ุงูููุฒุงููุฉ (Budget Optimization)
**ุงูุชูุฑุงุฑ:** ูุฑุฉ ููููุงู (ุงูุณุงุนุฉ 2 ุตุจุงุญุงู)

**ุงูููุงู:**
- ุชุญููู ุฃุฏุงุก ุญููุงุช ูู ูุนูู
- ุงูุชูุตูุฉ ุจุฅุนุงุฏุฉ ุชูุฒูุน ุงูููุฒุงููุฉ

### 4. ุงุณุชุฆูุงู ุงูุญููุงุช ุงูููููุฉ
**ุงูุชูุฑุงุฑ:** ููุชุตู ุงูููู ูู ููู

**ุงูููุงู:**
- ุงุณุชุฆูุงู ุงูุญููุงุช ุงููุชูููุฉ ุจุณุจุจ ุงูููุฒุงููุฉ ุงูููููุฉ
- ุชุญุฏูุซ ุงูุฅุญุตุงุฆูุงุช ุงูููููุฉ

### 5. ุชุญุฏูุซ ุงูุฅุญุตุงุฆูุงุช ุงูููููุฉ
**ุงูุชูุฑุงุฑ:** ููุชุตู ุงูููู ูู ููู

**ุงูููุงู:**
- ุญุณุงุจ ุฅุญุตุงุฆูุงุช ุงูููู ุงูุณุงุจู
- ุญูุธูุง ูู ุฌุฏูู `dailyStats`
- ุชุญุฏูุซ ุงูููุฒุงููุฉ ุงููุตุฑููุฉ

---

## ๐ฏ ูุธุงู ุงููุฒุงูุฏุฉ ุงูููุฑูุฉ (RTB - Real-Time Bidding)

### ุขููุฉ ุงูุนูู

ุนูุฏ ุทูุจ ุฅุนูุงู ูู ูููุน ูุง:

1. **ุงุณุชูุจุงู ุงูุทูุจ:**
   ```typescript
   {
     placementId: number,
     size: string, // "728x90"
     country?: string, // "SA"
     device?: string // "mobile"
   }
   ```

2. **ุฌูุจ ุงูุฅุนูุงูุงุช ุงููุคููุฉ:**
   - ุงูุฅุนูุงูุงุช ุจููุณ ุงูููุงุณ
   - ุงูุญููุงุช ุงููุดุทุฉ ููุท
   - ุงูุฅุนูุงูุงุช ุงููุดุทุฉ ููุท
   - ุชุทุจูู ููุงุชุฑ ุงูุงุณุชูุฏุงู (ุงูุฏููุฉุ ุงูุฌูุงุฒ)

3. **ุงููุฒุงูุฏุฉ (Auction):**
   ```typescript
   score = bidAmount ร (predictedCTR / 10000)
   ```
   - ุงุฎุชูุงุฑ ุงูุฅุนูุงู ุจุฃุนูู score

4. **ุฅุฑุฌุงุน ุงูุฅุนูุงู ุงููุงุฆุฒ:**
   ```typescript
   {
     ad: { id, name, type, content, destinationUrl, size },
     campaign: { id, name, objective, bidAmount }
   }
   ```

5. **ุชุณุฌูู ุงููุดุงูุฏุฉ (Impression):**
   ุนูุฏ ุนุฑุถ ุงูุฅุนูุงูุ ูุชู ุชุณุฌูู:
   ```typescript
   {
     adId, campaignId, placementId,
     userAgent, ipAddress, country, device,
     timestamp
   }
   ```

6. **ุชุณุฌูู ุงูููุฑุฉ (Click):**
   ุนูุฏ ุงูููุฑ ุนูู ุงูุฅุนูุงูุ ูุชู ุชุณุฌูู:
   ```typescript
   {
     adId, campaignId, placementId, impressionId,
     userAgent, ipAddress, country, device,
     timestamp
   }
   ```

---

## ๐ก ูุงุฌูุงุช API (tRPC Procedures)

### ูุฌููุนุฉ Auth
- `auth.me` - ุงูุญุตูู ุนูู ุจูุงูุงุช ุงููุณุชุฎุฏู ุงูุญุงูู
- `auth.logout` - ุชุณุฌูู ุงูุฎุฑูุฌ

### ูุฌููุนุฉ Campaigns (ูููุนูููู)
- `campaigns.create` - ุฅูุดุงุก ุญููุฉ ุฌุฏูุฏุฉ
- `campaigns.myList` - ูุงุฆูุฉ ุญููุงุช ุงููุนูู
- `campaigns.getById` - ุชูุงุตูู ุญููุฉ ูุญุฏุฏุฉ
- `campaigns.update` - ุชุญุฏูุซ ุญููุฉ
- `campaigns.adminList` - ูุงุฆูุฉ ุฌููุน ุงูุญููุงุช (ูููุดุฑููู)
- `campaigns.updateStatus` - ุงูููุงููุฉ/ุฑูุถ ุญููุฉ (ูููุดุฑููู)

### ูุฌููุนุฉ AdGroups
- `adGroups.create` - ุฅูุดุงุก ูุฌููุนุฉ ุฅุนูุงููุฉ
- `adGroups.listByCampaign` - ูุงุฆูุฉ ุงููุฌููุนุงุช ูู ุญููุฉ

### ูุฌููุนุฉ Ads
- `ads.create` - ุฅูุดุงุก ุฅุนูุงู
- `ads.listByAdGroup` - ูุงุฆูุฉ ุงูุฅุนูุงูุงุช ูู ูุฌููุนุฉ
- `ads.update` - ุชุญุฏูุซ ุฅุนูุงู

### ูุฌููุนุฉ Placements (ูููุดุฑููู)
- `placements.create` - ุฅูุดุงุก ููุงู ุนุฑุถ ุฌุฏูุฏ
- `placements.list` - ูุงุฆูุฉ ุฃูุงูู ุงูุนุฑุถ

### ูุฌููุนุฉ Tracking (ุนุงูุฉ)
- `tracking.recordImpression` - ุชุณุฌูู ูุดุงูุฏุฉ
- `tracking.recordClick` - ุชุณุฌูู ููุฑุฉ

### ูุฌููุนุฉ Analytics
- `analytics.campaignStats` - ุฅุญุตุงุฆูุงุช ุญููุฉ
- `analytics.dailyStats` - ุฅุญุตุงุฆูุงุช ููููุฉ

### ูุฌููุนุฉ Recommendations
- `recommendations.list` - ูุงุฆูุฉ ุงูุชูุตูุงุช
- `recommendations.markAsRead` - ุชุนููู ุชูุตูุฉ ูููุฑูุกุฉ

### ูุฌููุนุฉ AdServer (ุนุงูุฉ)
- `adServer.getAd` - ุงูุญุตูู ุนูู ุฅุนูุงู (RTB)

---

## ๐จ ุงูุตูุญุงุช ุงููููุฐุฉ

### 1. ุตูุญุฉ ุงููุจูุท (Home Page)
**ุงููุณุงุฑ:** `/`

**ุงููุญุชูู:**
- Hero Section ูุน ุนููุงู ุฌุฐุงุจ
- ุนุฑุถ 6 ูููุฒุงุช ุฑุฆูุณูุฉ ูููุธุงู
- CTA (Call to Action) ููุจุฏุก
- Footer

**ุงูููุฒุงุช:**
- ุชุตููู ุนุตุฑู ุจุงููุบุฉ ุงูุนุฑุจูุฉ
- ุฎุท Cairo ุงูุงุญุชุฑุงูู
- ุฏุนู RTL ูุงูู
- ุฃุฒุฑุงุฑ ุฏููุงููููุฉ (ุชุณุฌูู ุฏุฎูู / ููุญุฉ ุงูุชุญูู)

### 2. ููุญุฉ ุงูุชุญูู (Dashboard)
**ุงููุณุงุฑ:** `/dashboard`

**ุงููุญุชูู:**
- 4 ุจุทุงูุงุช ุฅุญุตุงุฆูุฉ:
  - ุฅุฌูุงูู ุงูุญููุงุช
  - ุงูููุฒุงููุฉ ุงููุตุฑููุฉ
  - ุงููุดุงูุฏุงุช
  - ุงูููุฑุงุช
- ูุงุฆูุฉ ุงูุญููุงุช ุงูุฃุฎูุฑุฉ (5 ุญููุงุช)
- ุฒุฑ ุฅูุดุงุก ุญููุฉ ุฌุฏูุฏุฉ

**ุงูุตูุงุญูุฉ:** ูุชุทูุจ ุชุณุฌูู ุฏุฎูู

### 3. ุตูุญุฉ ุงูุญููุงุช (Campaigns List)
**ุงููุณุงุฑ:** `/campaigns`

**ุงููุญุชูู:**
- ูุงุฆูุฉ ุฌููุน ุญููุงุช ุงููุนูู
- ููู ุญููุฉ:
  - ุงูุงุณู ูุงูุญุงูุฉ
  - ุงูููุฒุงููุฉ ุงููุตุฑููุฉ / ุงูุฅุฌูุงููุฉ
  - ูุจูุบ ุงูุนุฑุถ
  - ุงููุดุงูุฏุงุช ูุงูููุฑุงุช
  - ุดุฑูุท ุชูุฏู ุงูููุฒุงููุฉ
- ุฒุฑ ุฅูุดุงุก ุญููุฉ ุฌุฏูุฏุฉ

**ุงูุตูุงุญูุฉ:** ูุชุทูุจ ุฏูุฑ ูุนูู

### 4. ุตูุญุฉ ุฅูุดุงุก ุญููุฉ (Create Campaign)
**ุงููุณุงุฑ:** `/campaigns/create`

**ุงููููุฐุฌ:**

**ุงููุณู ุงูุฃูู: ูุนูููุงุช ุงูุญููุฉ ุงูุฃุณุงุณูุฉ**
- ุงุณู ุงูุญููุฉ (ูุต)
- ุงููุฏู ุงูุฅุนูุงูู (CPM / CPC / CPA)
- ูุจูุบ ุงูุนุฑุถ (ุฑูู ุจุงูุฏููุงุฑ)

**ุงููุณู ุงูุซุงูู: ุงูููุฒุงููุฉ ูุงูุฌุฏูู ุงูุฒููู**
- ุงูููุฒุงููุฉ ุงูููููุฉ (ุฑูู ุจุงูุฏููุงุฑ)
- ุงูููุฒุงููุฉ ุงูุฅุฌูุงููุฉ (ุฑูู ุจุงูุฏููุงุฑ)
- ุชุงุฑูุฎ ุงูุจุฏุก (ุชุงุฑูุฎ)
- ุชุงุฑูุฎ ุงูุงูุชูุงุก (ุชุงุฑูุฎุ ุงุฎุชูุงุฑู)

**ุงูุชุญูู:**
- ุฌููุน ุงูุญููู ูุทููุจุฉ ูุง ุนุฏุง ุชุงุฑูุฎ ุงูุงูุชูุงุก
- ุงูููุฒุงููุฉ ุงูุฏููุง: 1 ุฏููุงุฑ
- ุงูููุฒุงููุฉ ุงูููููุฉ โค ุงูููุฒุงููุฉ ุงูุฅุฌูุงููุฉ

**ุงูุตูุงุญูุฉ:** ูุชุทูุจ ุฏูุฑ ูุนูู

---

## ๐ ุฏูุฑุฉ ุญูุงุฉ ุงูุญููุฉ (Campaign Lifecycle)

### 1. ุงูุฅูุดุงุก (Creation)
- ุงููุนูู ูููุฃ ูููุฐุฌ ุฅูุดุงุก ุงูุญููุฉ
- ุงูุญุงูุฉ ุงูุฃูููุฉ: `pending_review`
- ูุชู ุญูุธ ุงูุญููุฉ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช

### 2. ุงููุฑุงุฌุนุฉ (Review)
- ุงููุดุฑู ูุฑุงุฌุน ุงูุญููุฉ
- ููููู ุงูููุงููุฉ โ `active`
- ุฃู ุงูุฑูุถ โ `rejected`

### 3. ุงูุชุดุบูู (Active)
- ุงูุญููุฉ ุชุจุฏุฃ ูู ุนุฑุถ ุงูุฅุนูุงูุงุช
- ูุธุงู RTB ูุฎุชุงุฑ ุงูุฅุนูุงูุงุช ููุนุฑุถ
- ุชุณุฌูู ุงููุดุงูุฏุงุช ูุงูููุฑุงุช
- ุฎุตู ูู ุงูููุฒุงููุฉ

### 4. ุงููุฑุงูุจุฉ ุงูุชููุงุฆูุฉ
- Cron Job ูุฑุงูุจ ุงูููุฒุงููุฉ ูู 5 ุฏูุงุฆู
- ุฅููุงู ูุคูุช ุนูุฏ ุชุฌุงูุฒ ุงูููุฒุงููุฉ ุงูููููุฉ โ `paused`
- ุฅููุงู ููุงุฆู ุนูุฏ ููุงุฏ ุงูููุฒุงููุฉ ุงูุฅุฌูุงููุฉ โ `completed`

### 5. ุงูุชุญููู ูุงูุชุญุณูู
- Cron Job ูุญูู ุงูุฃุฏุงุก ูู ุณุงุนุฉ
- ุฅูุดุงุก ุชูุตูุงุช ุฐููุฉ
- ูุดู ุงูุฅุนูุงูุงุช ุถุนููุฉ ุงูุฃุฏุงุก

### 6. ุงูุงุณุชุฆูุงู (Resume)
- ุงูุญููุงุช ุงููุชูููุฉ ุจุณุจุจ ุงูููุฒุงููุฉ ุงูููููุฉ ุชุณุชุฃูู ุชููุงุฆูุงู ูู ููุชุตู ุงูููู
- ุงููุนูู ููููู ุงุณุชุฆูุงู ุงูุญููุงุช ุงููุชูููุฉ ูุฏููุงู

---

## ๐ ุญุณุงุจ ุงููุคุดุฑุงุช (KPIs)

### 1. CTR (Click-Through Rate)
```
CTR = (ุนุฏุฏ ุงูููุฑุงุช / ุนุฏุฏ ุงููุดุงูุฏุงุช) ร 100
```

### 2. eCPM (Effective Cost Per Mille)
```
eCPM = (ุงูุฅููุงู ุงูุฅุฌูุงูู / ุนุฏุฏ ุงููุดุงูุฏุงุช) ร 1000
```

### 3. eCPC (Effective Cost Per Click)
```
eCPC = ุงูุฅููุงู ุงูุฅุฌูุงูู / ุนุฏุฏ ุงูููุฑุงุช
```

### 4. CPA (Cost Per Action)
```
CPA = ุงูุฅููุงู ุงูุฅุฌูุงูู / ุนุฏุฏ ุงูุชุญูููุงุช
```

### 5. Conversion Rate
```
Conversion Rate = (ุนุฏุฏ ุงูุชุญูููุงุช / ุนุฏุฏ ุงูููุฑุงุช) ร 100
```

---

## ๐ฏ ุณููุงุฑูููุงุช ุงูุงุณุชุฎุฏุงู

### ุณููุงุฑูู 1: ูุนูู ูููุดุฆ ุญููุฉ ุฌุฏูุฏุฉ

1. ุงููุนูู ูุณุฌู ุงูุฏุฎูู
2. ููุชูู ุฅูู `/campaigns/create`
3. ูููุฃ ุงููููุฐุฌ:
   - ุงูุงุณู: "ุญููุฉ ุฅุทูุงู ุงูููุชุฌ ุงูุฌุฏูุฏ"
   - ุงููุฏู: CPM
   - ูุจูุบ ุงูุนุฑุถ: $2.00
   - ุงูููุฒุงููุฉ ุงูููููุฉ: $50
   - ุงูููุฒุงููุฉ ุงูุฅุฌูุงููุฉ: $500
   - ุชุงุฑูุฎ ุงูุจุฏุก: 2024-01-15
4. ูุถุบุท "ุฅูุดุงุก ุงูุญููุฉ"
5. ุงูุญููุฉ ุชูุญูุธ ุจุญุงูุฉ `pending_review`
6. ุงููุดุฑู ูุฑุงุฌุน ูููุงูู โ `active`
7. ุงูุญููุฉ ุชุจุฏุฃ ูู ุงูุนุฑุถ

### ุณููุงุฑูู 2: ูุธุงู RTB ูุฎุชุงุฑ ุฅุนูุงู

1. ูููุน "ุณุจู" ูุทูุจ ุฅุนูุงู:
   - ุงูููุงู: Header
   - ุงูููุงุณ: 728ร90
   - ุงูุฏููุฉ: SA
   - ุงูุฌูุงุฒ: mobile
2. ุงููุธุงู ูุฌูุจ ุงูุฅุนูุงูุงุช ุงููุคููุฉ:
   - ุงูุฅุนูุงู A: bidAmount = $2.00, pCTR = 1.5%
   - ุงูุฅุนูุงู B: bidAmount = $1.50, pCTR = 2.0%
   - ุงูุฅุนูุงู C: bidAmount = $2.50, pCTR = 1.0%
3. ุญุณุงุจ ุงููุชูุฌุฉ:
   - A: 2.00 ร 0.015 = 0.030
   - B: 1.50 ร 0.020 = 0.030
   - C: 2.50 ร 0.010 = 0.025
4. ุงููุงุฆุฒ: A ุฃู B (ูุชุณุงููุงูุ ููุฎุชุงุฑ ุนุดูุงุฆูุงู)
5. ุฅุฑุฌุงุน ุงูุฅุนูุงู A
6. ุชุณุฌูู ูุดุงูุฏุฉ

### ุณููุงุฑูู 3: ุฅููุงู ุชููุงุฆู ุจุณุจุจ ุงูููุฒุงููุฉ

1. ุญููุฉ ูุดุทุฉ:
   - ุงูููุฒุงููุฉ ุงูุฅุฌูุงููุฉ: $500
   - ุงููุตุฑูู: $480
2. Cron Job ูุนูู ูู 5 ุฏูุงุฆู
3. ุจุนุฏ 10 ุฏูุงุฆู:
   - ุงููุตุฑูู: $505
4. Cron Job ููุชุดู ุชุฌุงูุฒ ุงูููุฒุงููุฉ
5. ููููู ุงูุญููุฉ โ `completed`
6. ูููุดุฆ ุชูุตูุฉ ูููุนูู:
   - "ุชู ุฅููุงู ุงูุญููุฉ ูุฃู ุงูููุฒุงููุฉ ููุฏุช"

### ุณููุงุฑูู 4: ุชูุตูุฉ ุฐููุฉ

1. ุญููุฉ ูุดุทุฉ ููุฐ 3 ุฃูุงู
2. ุงูุฅุญุตุงุฆูุงุช:
   - ุงููุดุงูุฏุงุช: 50,000
   - ุงูููุฑุงุช: 1,200
   - CTR: 2.4%
   - ุงููุตุฑูู: $200
   - ุงููุชุจูู: $300
3. Cron Job ูุญูู ุงูุฃุฏุงุก
4. LLM ููุญูู ุงูุจูุงูุงุช
5. ูููุดุฆ ุชูุตูุฉ:
   - ุงูููุน: `budget_increase`
   - ุงูุฑุณุงูุฉ: "ุงูุญููุฉ ุชุญูู ุฃุฏุงุกู ููุชุงุฒุงู (CTR: 2.4%). ูููุตุญ ุจุฒูุงุฏุฉ ุงูููุฒุงููุฉ ููุงุณุชูุงุฏุฉ ูู ุงูุฒุฎู."
   - ุงูุซูุฉ: 90%

---

## ๐ ุงูุฎุทูุงุช ุงูุชุงููุฉ (Roadmap)

### ุงููุฑุญูุฉ ุงููุงุฏูุฉ (ุงูุฃููููุฉ ุงูุนุงููุฉ)

1. **ุตูุญุฉ ุชูุงุตูู ุงูุญููุฉ**
   - ุนุฑุถ ุฅุญุตุงุฆูุงุช ุชูุตูููุฉ
   - ูุฎุทุทุงุช Recharts (CTR ุนุจุฑ ุงูุฒููุ ุชูุฒูุน ุงูุฃุฌูุฒุฉุ ุฅูุฎ)
   - ูุงุฆูุฉ ุงููุฌููุนุงุช ุงูุฅุนูุงููุฉ ูุงูุฅุนูุงูุงุช
   - ุงูุชูุตูุงุช ุงูุฐููุฉ

2. **ุตูุญุฉ ุฅูุดุงุก ูุฌููุนุฉ ุฅุนูุงููุฉ**
   - ุชุญุฏูุฏ ุงูุงุณุชูุฏุงู (ุงูุฏููุ ุงูุฃุฌูุฒุฉุ ุงููุฆุงุช)
   - ุฅุถุงูุฉ ุฅุนูุงูุงุช ูููุฌููุนุฉ

3. **ุตูุญุฉ ุฅูุดุงุก ุฅุนูุงู**
   - ุฑูุน ุตูุฑุฉ/ููุฏูู ุฅูู S3
   - ุฅุฏุฎุงู HTML ูุฎุตุต
   - ูุนุงููุฉ ุงูุฅุนูุงู ูุจู ุงููุดุฑ

4. **ููุญุฉ ุชุญูู ุงููุดุฑููู**
   - ุตูุญุฉ ูุฑุงุฌุนุฉ ุงูุญููุงุช
   - ุงูููุงููุฉ/ุฑูุถ ุงูุญููุงุช
   - ุฅุฏุงุฑุฉ ุฃูุงูู ุงูุนุฑุถ

5. **JavaScript SDK (Ad Tag)**
   - ุณูุฑูุจุช ููุถููู ูู ุงูููุงูุน
   - ูุทูุจ ุฅุนูุงู ูู ุงููุธุงู
   - ูุนุฑุถู ุชููุงุฆูุงู
   - ูุชุชุจุน ุงููุดุงูุฏุงุช ูุงูููุฑุงุช

### ุงููุฑุญูุฉ ุงููุชูุณุทุฉ

6. **ุตูุญุฉ ุงูุชูุงุฑูุฑ ุงููุชูุฏูุฉ**
   - ุชูุงุฑูุฑ ูุฎุตุตุฉ
   - ุชุตุฏูุฑ PDF/Excel
   - ููุงุฑูุฉ ุงูุญููุงุช

7. **ูุธุงู ุงูุฅุดุนุงุฑุงุช**
   - ุฅุดุนุงุฑุงุช ูู ุงูููุช ุงููุนูู
   - ุชูุจููุงุช ุนูุฏ ุงูุชูุงุก ุงูููุฒุงููุฉ
   - ุชูุจููุงุช ุนูุฏ ุถุนู ุงูุฃุฏุงุก

8. **ูุธุงู ุงูููุงุชูุฑ**
   - ุฅุตุฏุงุฑ ููุงุชูุฑ ุชููุงุฆูุฉ
   - ุชูุงูู ูุน ุจูุงุจุงุช ุงูุฏูุน

### ุงููุฑุญูุฉ ุงููุชูุฏูุฉ

9. **ุชุญุณููุงุช ุงูุฐูุงุก ุงูุงุตุทูุงุนู**
   - A/B Testing ุชููุงุฆู
   - ุชุญุณูู ุงูุงุณุชูุฏุงู ุจุงูุฐูุงุก ุงูุงุตุทูุงุนู
   - ุชูููุฏ ูุตูุต ุฅุนูุงููุฉ ุจุงูุฐูุงุก ุงูุงุตุทูุงุนู

10. **ุชูุงูู ูุน ููุตุงุช ุฎุงุฑุฌูุฉ**
    - Google Analytics
    - Facebook Pixel
    - Twitter Ads

---

## ๐ ููุงุญุธุงุช ุชูููุฉ

### ุงูุฃูุงู
- ุฌููุน APIs ูุญููุฉ ุจู JWT
- ุงูุชุญูู ูู ุงูุตูุงุญูุงุช ุนูู ูุณุชูู Procedure
- ุชุดููุฑ ุงูุจูุงูุงุช ุงูุญุณุงุณุฉ
- ููุน SQL Injection ุนุจุฑ Drizzle ORM
- ููุน XSS ุนุจุฑ React

### ุงูุฃุฏุงุก
- Indexes ุนูู ุงูุญููู ุงููุณุชุฎุฏูุฉ ูู ุงูุงุณุชุนูุงูุงุช
- Caching ููุจูุงูุงุช ุงูุซุงุจุชุฉ
- Pagination ููููุงุฆู ุงูุทูููุฉ
- Lazy Loading ููุตูุฑ

### ูุงุจููุฉ ุงูุชูุณุน
- ุจููุฉ Microservices ุฌุงูุฒุฉ
- ูุงุนุฏุฉ ุจูุงูุงุช ูุงุจูุฉ ููุชูุฒูุน (TiDB)
- S3 ูููุณุงุฆุท (ุบูุฑ ูุญุฏูุฏ)
- Cron Jobs ูุงุจูุฉ ููุชูุฒูุน

---

## ๐ ุงููุตุทูุญุงุช

- **RTB** - Real-Time Bidding (ุงููุฒุงูุฏุฉ ูู ุงูููุช ุงููุนูู)
- **CPM** - Cost Per Mille (ุงูุชูููุฉ ููู ุฃูู ุธููุฑ)
- **CPC** - Cost Per Click (ุงูุชูููุฉ ููู ููุฑุฉ)
- **CPA** - Cost Per Action (ุงูุชูููุฉ ููู ุฅุฌุฑุงุก)
- **CTR** - Click-Through Rate (ูุณุจุฉ ุงูููุฑ ุฅูู ุงูุธููุฑ)
- **pCTR** - Predicted CTR (ูุณุจุฉ ุงูููุฑ ุงููุชููุนุฉ)
- **Impression** - ูุดุงูุฏุฉ (ุนุฑุถ ุงูุฅุนูุงู)
- **Conversion** - ุชุญููู (ุฅุชูุงู ุงูุฅุฌุฑุงุก ุงููุทููุจ)
- **Ad Tag** - ุณูุฑูุจุช JavaScript ูุนุฑุถ ุงูุฅุนูุงูุงุช
- **Ad Placement** - ููุงู ุนุฑุถ ุงูุฅุนูุงู ูู ุงููููุน

---

## ๐ ุงูุฏุนู ูุงููุณุงุนุฏุฉ

ููุฃุณุฆูุฉ ูุงูุงุณุชูุณุงุฑุงุชุ ูุฑุฌู ุงูุชูุงุตู ูุน ูุฑูู ุงูุชุทููุฑ.

---

**ยฉ 2024 ูุธุงู ุงูุฅุนูุงูุงุช ุงูุฐูู - ุณุจู. ุฌููุน ุงูุญููู ูุญููุธุฉ.**
